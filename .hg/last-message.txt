Added upload functionality and checking for incorrect upload file